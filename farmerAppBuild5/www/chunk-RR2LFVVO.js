import{b as z}from"./chunk-657ITH35.js";import{A as E,O as j,P as B,V as L,c as w,da as W,ea as N,f as x,fa as Y,g as F,p as P,u as k,x as V}from"./chunk-I3X6JMJK.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{I as a,Ib as O,J as p,Ka as y,Kb as A,M as I,Q as h,T as m,Ta as S,Ub as T,Z as r,_ as s,ea as g,n as M,p as D,pa as c,ra as v,va as f,wa as b,xa as _}from"./chunk-MADRYJFV.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import{h as C}from"./chunk-LNJ3S2LQ.js";var G=(()=>{let e=class e{constructor(o){this.database=o,this.acceptedOrders=[],this.getOrdersFromLocalStorage()}getOrdersFromLocalStorage(){let o=this.database.getPendingDeliveriesFromLocalStorage("T001");this.acceptedOrders=o.filter(n=>n.assigned)}addAcceptedOrder(o){this.acceptedOrders.push(o)}getAcceptedOrders(){return this.acceptedOrders}};e.\u0275fac=function(n){return new(n||e)(D(z))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function X(t,e){if(t&1&&(r(0,"ion-select-option",6),c(1),s()),t&2){let d=e.$implicit;m("value",d.id),a(),v(" ",d.name," ")}}function Z(t,e){if(t&1&&(r(0,"ion-select-option",6),c(1),s()),t&2){let d=e.$implicit;m("value",d.id),a(),v(" ",d.licensePlate," ")}}var te=(()=>{let e=class e{constructor(o,n,i){this.modalCtrl=o,this.toastController=n,this.upcomingDeliveriesService=i,this.drivers=[{id:1,name:"Driver A"},{id:2,name:"Driver B"}],this.vehicles=[{id:1,licensePlate:"ABC-123"},{id:2,licensePlate:"XYZ-789"}],this.selectedDriver=null,this.selectedVehicle=null}dismiss(){this.modalCtrl.dismiss({assigned:!1})}assignDriver(){return C(this,null,function*(){if(!this.selectedDriver||!this.selectedVehicle){alert("Please select a driver and vehicle.");return}this.order.status="Scheduled",this.order.driverId=this.selectedDriver,this.order.vehicleId=this.selectedVehicle,console.log(this.order),this.upcomingDeliveriesService.addAcceptedOrder(this.order),yield(yield this.toastController.create({message:"You can check this order in upcoming deliveries in transport dashboard.",duration:3e3,position:"bottom"})).present(),setTimeout(()=>{this.modalCtrl.dismiss({driverId:this.selectedDriver,vehicleId:this.selectedVehicle,assigned:!0,status:"Scheduled"})},1e3)})}};e.\u0275fac=function(n){return new(n||e)(p(W),p(N),p(G))},e.\u0275cmp=I({type:e,selectors:[["app-assign-driver-modal"]],inputs:{order:"order"},decls:19,vars:4,consts:[["slot","end"],[3,"click"],["interface","popover",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"center-button"],["type","submit",1,"custom-button",3,"click"],[3,"value"]],template:function(n,i){n&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),g("click",function(){return i.dismiss()}),c(4,"Close"),s()()()(),r(5,"ion-content")(6,"ion-item")(7,"ion-label"),c(8,"Assign Driver"),s(),r(9,"ion-select",2),_("ngModelChange",function(l){return b(i.selectedDriver,l)||(i.selectedDriver=l),l}),h(10,X,2,2,"ion-select-option",3),s()(),r(11,"ion-item")(12,"ion-label"),c(13,"Assign Vehicle"),s(),r(14,"ion-select",2),_("ngModelChange",function(l){return b(i.selectedVehicle,l)||(i.selectedVehicle=l),l}),h(15,Z,2,2,"ion-select-option",3),s()(),r(16,"div",4)(17,"ion-button",5),g("click",function(){return i.assignDriver()}),c(18," SUBMIT "),s()()()),n&2&&(a(9),f("ngModel",i.selectedDriver),a(),m("ngForOf",i.drivers),a(4),f("ngModel",i.selectedVehicle),a(),m("ngForOf",i.vehicles))},dependencies:[Y,x,F,P,k,V,E,j,B,L,w,S,y,T,O,A],styles:["ion-toolbar[_ngcontent-%COMP%]{--color: rgb(174, 172, 172);height:55px;border:none;border-radius:0}ion-button[_ngcontent-%COMP%]{--border-radius: 6px;--color: rgb(164, 192, 154);font-size:14px;padding:6px 10px}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:20vh}.custom-button[_ngcontent-%COMP%]{font-family:Georgia,Times,serif;--background: rgb(136, 172, 140);--color: white;--border-radius: 8px;--box-shadow: 0 4px 6px rgba(0, 0, 0, .1)}"]});let t=e;return t})();export{te as AssignDriverModalComponent};
