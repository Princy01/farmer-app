import{b as he}from"./chunk-657ITH35.js";import{a as pe}from"./chunk-CMGBRTSU.js";import{C as se,G as le,Xa as ge,Y as de,a as oe,t as ae,w as ce,xa as me}from"./chunk-JT32FGMS.js";import{$ as ie,F as Q,G as Z,Q as ee,T as te,V as ne,c as N,f as V,fa as re,g as K,h as Y,i as $,p as G,s as H,u as X,v as J}from"./chunk-I3X6JMJK.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{$ as l,$a as j,H as k,I as o,Ib as W,J as O,Ka as z,Kb as q,La as U,M as I,Q as y,T as m,Ta as F,Ub as L,V as T,Z as e,_ as t,bb as B,da as M,ea as C,fa as p,pa as n,qa as _,ra as v,sa as S,ta as D,u as b,v as P,va as E,wa as R,xa as A}from"./chunk-MADRYJFV.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import{h}from"./chunk-LNJ3S2LQ.js";function ue(a,d){if(a&1){let i=M();e(0,"div",49)(1,"div",50)(2,"h3",51),n(3),t(),e(4,"p",52),n(5),l(6,"br"),n(7),t()(),e(8,"ion-button",53),C("click",function(){b(i);let s=p();return P(s.changeAddress())}),l(9,"ion-icon",54),n(10," Change "),t()()}if(a&2){let i=p();o(3),_(i.selectedAddress.name),o(2),S(" ",i.selectedAddress.street,", ",i.selectedAddress.city,","),o(2),S(" ",i.selectedAddress.state," - ",i.selectedAddress.zip," ")}}function fe(a,d){if(a&1&&(e(0,"div",55)(1,"div",56)(2,"div",57),l(3,"img",58),t(),e(4,"div",59)(5,"h3",60),n(6),t(),e(7,"p",61),n(8),t()()(),e(9,"div",62)(10,"span",63),n(11),t()()()),a&2){let i=d.$implicit;o(3),m("src","assets/img/"+i.product_name+".png",k)("alt",i.product_name),o(3),_(i.product_name),o(2),D("\u20B9",i.latest_wholesaler_price," \xD7 ",i.quantity," ",i.unit_name,""),o(3),v("\u20B9",i.latest_wholesaler_price*i.quantity,"")}}function _e(a,d){if(a&1){let i=M();e(0,"div",64)(1,"div",65)(2,"div",66),l(3,"ion-icon",67),e(4,"div",68)(5,"h3"),n(6,"Need Fast Delivery?"),t(),e(7,"p"),n(8,"Let us arrange professional transport for your order"),t()()(),e(9,"ion-button",69),C("click",function(){b(i);let s=p();return P(s.arrangeRide())}),l(10,"ion-icon",70),n(11," Arrange Transport "),t()()()}}function ve(a,d){a&1&&(e(0,"div",82)(1,"div",83),l(2,"ion-spinner",84),e(3,"div",85)(4,"h4"),n(5,"Finding Available Drivers"),t(),e(6,"p"),n(7,"Please wait while we connect you with nearby transporters..."),t()()()())}function ye(a,d){if(a&1&&(e(0,"div",86)(1,"div",87)(2,"div",88)(3,"div",89),l(4,"ion-icon",90),t(),e(5,"div",91)(6,"h4"),n(7,"Driver Assigned"),t(),e(8,"p"),n(9),t()()(),e(10,"div",92),l(11,"ion-icon",93),e(12,"span"),n(13,"Confirmed"),t()()()()),a&2){let i=p(2);o(9),_(i.getAvailableTransporterName())}}function xe(a,d){if(a&1){let i=M();e(0,"div",94)(1,"ion-button",95),C("click",function(){b(i);let s=p(2);return P(s.confirmDriverSearch())}),l(2,"ion-icon",96),n(3," Search Available Drivers "),t(),e(4,"ion-button",97),C("click",function(){b(i);let s=p(2);return P(s.arrangeRide())}),l(5,"ion-icon",98),n(6," Change Transport Options "),t()()}}function Ce(a,d){if(a&1&&(e(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",33),l(4,"ion-icon",74),n(5," Delivery Type "),t(),e(6,"div",75),n(7),t()(),e(8,"div",73)(9,"div",33),l(10,"ion-icon",76),n(11," Urgency "),t(),e(12,"div",75),n(13),t()(),e(14,"div",73)(15,"div",33),l(16,"ion-icon",77),n(17," Estimated Cost "),t(),e(18,"div",78),n(19),t()()(),y(20,ve,8,0,"div",79)(21,ye,14,1,"div",80)(22,xe,7,0,"div",81),t()),a&2){let i=p();o(7),_(i.selectedDeliveryType),o(6),_(i.selectedUrgency),o(6),v("\u20B9",i.estimatedRidePrice,""),o(),m("ngIf",i.isSearchingDriver),o(),m("ngIf",i.selectedTransporter),o(),m("ngIf",!i.isSearchingDriver&&!i.selectedTransporter)}}function be(a,d){if(a&1&&(e(0,"div",32)(1,"span",33),n(2,"Transport Cost"),t(),e(3,"span",34),n(4),t()()),a&2){let i=p();o(4),v("\u20B9",i.estimatedRidePrice,"")}}function Pe(a,d){if(a&1&&(e(0,"div",102)(1,"div",103),l(2,"ion-icon",104),e(3,"span",105),n(4),t()(),l(5,"ion-radio",106),t()),a&2){let i=d.$implicit,r=p(2);T("selected",r.selectedPaymentMethod===i.payment_mode),o(2),m("name",r.getPaymentIcon(i.payment_mode)),o(2),_(i.payment_mode),o(),m("value",i.payment_mode)}}function Oe(a,d){if(a&1){let i=M();e(0,"div",7)(1,"ion-card",8)(2,"div",9)(3,"div",10),l(4,"ion-icon",99),e(5,"h2",12),n(6,"Payment Method"),t()()(),e(7,"ion-card-content",13)(8,"ion-radio-group",100),A("ngModelChange",function(s){b(i);let c=p();return R(c.selectedPaymentMethod,s)||(c.selectedPaymentMethod=s),P(s)}),y(9,Pe,6,5,"div",101),t()()()()}if(a&2){let i=p();o(8),E("ngModel",i.selectedPaymentMethod),o(),m("ngForOf",i.paymentMethods)}}function Me(a,d){a&1&&(e(0,"div",7)(1,"ion-card",8)(2,"ion-card-content",107),l(3,"ion-spinner",108),e(4,"p",109),n(5,"Loading payment methods..."),t()()()())}function we(a,d){a&1&&(e(0,"div",7)(1,"ion-card",110)(2,"ion-card-content",111),l(3,"ion-icon",112),e(4,"h3",113),n(5,"Payment Methods Unavailable"),t(),e(6,"p",114),n(7,"Failed to load payment methods. Please try again later."),t()()()())}var Be=(()=>{let d=class d{constructor(r,s,c,g,x){var f;this.router=r,this.route=s,this.databaseService=c,this.alertCtrl=g,this.buyerApiService=x,this.cartItems=[],this.retailerInfo=null,this.wholeSeller=null,this.totalPrice=0,this.selectedPaymentMethod="upi",this.estimatedDelivery="3-5 Business Days",this.trackingNumber="TRK123456789",this.orderPlaced=!1,this.isLoading=!1,this.selectedDeliveryType=null,this.selectedUrgency=null,this.estimatedRidePrice=0,this.grandTotal=0,this.selectedTransporter=null,this.availableTransporters=[],this.isSearchingDriver=!1,this.hasRideRequest=!1,this.selectedAddress={name:"ABC",street:"123 XY",city:"New Delhi",state:"Delhi",zip:"110001"},this.loadingPaymentMethods=!1,this.errorLoadingPaymentMethods=!1,this.paymentMethods=[],this.currentOrderId=null,oe({chevronBack:se,chevronForward:le,phonePortraitOutline:me,cashOutline:ce,cardOutline:ae,globeOutline:de,walletOutline:ge}),this.loadTransporters();let u=(f=this.router.getCurrentNavigation())==null?void 0:f.extras.state;u&&(this.cartItems=u.cartItems||[],this.totalPrice=u.totalPrice||0,this.retailerInfo=u.retailer||null,this.wholeSeller=u.wholeseller||null),this.route.queryParams.subscribe(w=>{w.deliveryType&&(this.selectedDeliveryType=w.deliveryType,this.hasRideRequest=!0),w.urgency&&(this.selectedUrgency=w.urgency),this.hasRideRequest&&setTimeout(()=>this.confirmDriverSearch(),100),this.calculateRidePrice()})}ngOnInit(){this.paymentMethods=[{id:1,payment_mode:"UPI"},{id:2,payment_mode:"Cash on Delivery"},{id:3,payment_mode:"Credit/Debit Card"},{id:4,payment_mode:"Net Banking"},{id:5,payment_mode:"Wallet (e.g., Paytm, PhonePe)"}]}loadTransporters(){this.availableTransporters=this.databaseService.getAvailableTransporters()}calculateRidePrice(){if(this.selectedDeliveryType&&this.selectedAddress){let r=this.calculateTotalWeight();this.estimatedRidePrice=this.databaseService.calculateBasePrice(this.selectedAddress.city,"Destination",r,this.selectedDeliveryType,this.selectedUrgency||"normal",this.selectedTransporter||void 0)}else this.estimatedRidePrice=0;this.grandTotal=this.totalPrice+this.estimatedRidePrice}selectTransporter(r){this.selectedTransporter=r,this.calculateRidePrice()}arrangeRide(){this.router.navigate(["/buyer/ride"],{queryParams:{totalWeight:this.calculateTotalWeight(),pickup:this.selectedAddress.city,delivery:"Destination"}})}confirmDriverSearch(){return h(this,null,function*(){yield(yield this.alertCtrl.create({header:"Estimated Transport Cost",message:`The estimated transport cost is \u20B9${this.estimatedRidePrice}. Would you like to search for an available driver?`,buttons:[{text:"No",role:"cancel",handler:()=>{this.hasRideRequest=!1,this.selectedDeliveryType=null,this.selectedUrgency=null,this.estimatedRidePrice=0,this.calculateRidePrice()}},{text:"Yes",handler:()=>{this.startDriverSearch()}}]})).present()})}calculateTotalWeight(){return console.log(this.cartItems),this.cartItems.reduce((r,s)=>r+(s.quantity||0),0)}startDriverSearch(){return h(this,null,function*(){this.isSearchingDriver=!0,this.pollForDriverAssignment()})}pollForDriverAssignment(){return h(this,null,function*(){if(this.currentOrderId){console.warn("Already polling for order:",this.currentOrderId);return}let r={deliveryType:this.selectedDeliveryType,urgency:this.selectedUrgency,pickup:this.selectedAddress.city,delivery:"Destination",distance:this.getDistance(),load:{weight:this.calculateTotalWeight(),type:""},basePrice:this.estimatedRidePrice,requestedDate:new Date().toISOString()},s=yield this.databaseService.createUnassignedOrder(r);this.currentOrderId=s;let c=setInterval(()=>h(this,null,function*(){console.log("Checking driver assignment for order:",this.currentOrderId);let g=yield this.databaseService.checkOrderAssignment(this.currentOrderId);console.log("Driver assignment result:",g),g&&(this.isSearchingDriver=!1,this.selectedTransporter=g.id,clearInterval(c),this.currentOrderId=null,this.showDriverFoundAlert(g))}),5e3);setTimeout(()=>{this.isSearchingDriver&&(clearInterval(c),this.isSearchingDriver=!1,this.currentOrderId=null,this.showNoDriverAlert())},12e4)})}getDistance(){return Math.floor(Math.random()*101)+50}showDriverFoundAlert(r){return h(this,null,function*(){yield(yield this.alertCtrl.create({header:"Driver Found!",message:`${r.name} will handle your delivery.`,buttons:["OK"]})).present()})}showNoDriverAlert(){return h(this,null,function*(){yield(yield this.alertCtrl.create({header:"No Driver Available",message:"Would you like to continue searching?",buttons:[{text:"No",role:"cancel",handler:()=>{this.hasRideRequest=!1,this.selectedDeliveryType=null,this.selectedUrgency=null,this.estimatedRidePrice=0,this.calculateRidePrice()}},{text:"Yes",handler:()=>{this.startDriverSearch()}}]})).present()})}confirmOrder(){return h(this,null,function*(){if(!this.selectedTransporter){yield(yield this.alertCtrl.create({header:"No Transporter Selected",message:"Your order will be processed directly with the seller without transport arrangement.",buttons:[{text:"Cancel",role:"cancel"},{text:"Continue",handler:()=>{this.processDirectOrder()}}]})).present();return}yield this.processOrderWithTransport()})}processDirectOrder(){return h(this,null,function*(){var r,s,c,g;this.isLoading=!0;try{let x={id:Date.now(),buyerId:((r=this.retailerInfo)==null?void 0:r.id.toString())||"unknown",sellerId:((s=this.wholeSeller)==null?void 0:s.id.toString())||"unknown",items:this.cartItems.map(f=>({product_id:f.product_id,quantity:f.quantity,price:f.latest_wholesaler_price,unit_id:f.unit_id})),totalAmount:this.totalPrice,pickupLocation:((c=this.wholeSeller)==null?void 0:c.name)||"Unknown Location",dropoffLocation:((g=this.retailerInfo)==null?void 0:g.address)||"Unknown Address",weight:this.calculateTotalWeight(),status:"pending",createdAt:new Date,transportRequired:!1},u=yield this.databaseService.assignDirectOrder(x);u.success?(this.orderPlaced=!0,yield(yield this.alertCtrl.create({header:"Success",message:"Order sent directly to seller!",buttons:["OK"]})).present()):yield(yield this.alertCtrl.create({header:"Error",message:u.message||"Failed to place direct order.",buttons:["OK"]})).present()}catch(x){console.error("Error processing direct order:",x),yield(yield this.alertCtrl.create({header:"Error",message:"An unexpected error occurred.",buttons:["OK"]})).present()}finally{this.isLoading=!1}})}processOrderWithTransport(){return h(this,null,function*(){var r,s;this.isLoading=!0;try{let c={items:this.cartItems,paymentMethod:this.selectedPaymentMethod,total:this.grandTotal,deliveryType:this.selectedDeliveryType,urgency:this.selectedUrgency,transporterId:this.selectedTransporter,pickupLocation:((r=this.wholeSeller)==null?void 0:r.name)||"Unknown Location",dropoffLocation:((s=this.retailerInfo)==null?void 0:s.address)||"Unknown Address",weight:this.calculateTotalWeight()},g=yield this.databaseService.assignOrderToTransporters(c);g.success?(this.orderPlaced=!0,yield(yield this.alertCtrl.create({header:"Success",message:"Order confirmed successfully!",buttons:["OK"]})).present()):yield(yield this.alertCtrl.create({header:"Error",message:g.message||"Failed to assign order.",buttons:["OK"]})).present()}finally{this.isLoading=!1}})}goBack(){this.router.navigate(["/buyer/cart"])}changeAddress(){this.router.navigate(["/buyer/select-address"])}selectPayment(r){this.selectedPaymentMethod=r}getAvailableTransporterName(){if(!this.selectedTransporter)return"";let r=this.availableTransporters.find(s=>s.id===this.selectedTransporter);return(r==null?void 0:r.name)||""}getRetailerInfo(){return this.retailerInfo?`${this.retailerInfo.name||"Unknown"} - ${this.retailerInfo.location||"Unknown Location"}`:"Unknown Retailer"}getWholesellerInfo(){return this.wholeSeller?`${this.wholeSeller.name||"Unknown Wholeseller"}`:"Direct Order"}getPaymentIcon(r){switch(r.toLowerCase()){case"upi":return"phone-portrait-outline";case"cash on delivery":return"cash-outline";case"credit/debit card":return"card-outline";case"net banking":return"globe-outline";case"wallet (e.g., paytm, phonepe)":return"wallet-outline";default:return"card-outline"}}};d.\u0275fac=function(s){return new(s||d)(O(B),O(j),O(he),O(ie),O(pe))},d.\u0275cmp=I({type:d,selectors:[["app-checkout"]],decls:96,vars:16,consts:[["mode","ios"],[1,"checkout-toolbar"],["slot","start"],[1,"back-btn",3,"click"],["name","chevron-back"],[1,"page-title"],[1,"checkout-content"],[1,"card-section"],[1,"modern-card"],[1,"card-header"],[1,"header-content"],["name","receipt-outline",1,"header-icon"],[1,"card-title"],[1,"card-content"],[1,"detail-item"],[1,"detail-label"],["name","person-outline",1,"detail-icon","buyer-icon"],[1,"detail-value"],["name","storefront-outline",1,"detail-icon","seller-icon"],["name","location-outline",1,"header-icon"],["class","address-container",4,"ngIf"],["name","bag-outline",1,"header-icon"],[1,"items-count-badge"],[1,"items-list"],["class","item-card",4,"ngFor","ngForOf"],[1,"modern-card","transport-card"],["name","car-outline",1,"header-icon"],["class","transport-content",4,"ngIf"],["class","transport-details",4,"ngIf"],[1,"modern-card","summary-card"],["name","calculator-outline",1,"header-icon"],[1,"summary-list"],[1,"summary-row"],[1,"summary-label"],[1,"summary-amount"],["class","summary-row",4,"ngIf"],[1,"summary-divider"],[1,"summary-row","total-row"],[1,"summary-label","total"],[1,"summary-amount","total"],["class","card-section",4,"ngIf"],[1,"bottom-spacing"],[1,"checkout-footer"],[1,"footer-content"],[1,"total-summary"],[1,"total-label"],[1,"total-amount"],[1,"confirm-order-btn",3,"click","disabled"],["name","checkmark-circle-outline","slot","start"],[1,"address-container"],[1,"address-info"],[1,"address-name"],[1,"address-text"],["fill","outline",1,"change-address-btn",3,"click"],["name","pencil-outline","slot","start"],[1,"item-card"],[1,"item-info"],[1,"product-image"],[1,"product-img",3,"src","alt"],[1,"product-details"],[1,"product-name"],[1,"product-specs"],[1,"item-price"],[1,"price-amount"],[1,"transport-content"],[1,"transport-offer"],[1,"offer-content"],["name","rocket-outline",1,"offer-icon"],[1,"offer-text"],[1,"arrange-btn",3,"click"],["name","add-outline","slot","start"],[1,"transport-details"],[1,"delivery-summary"],[1,"summary-item"],["name","flash-outline",1,"summary-icon"],[1,"summary-value"],["name","time-outline",1,"summary-icon"],["name","cash-outline",1,"summary-icon"],[1,"summary-value","price-highlight"],["class","driver-search",4,"ngIf"],["class","driver-assigned",4,"ngIf"],["class","transport-actions",4,"ngIf"],[1,"driver-search"],[1,"search-animation"],["name","dots",1,"search-spinner"],[1,"search-text"],[1,"driver-assigned"],[1,"driver-card"],[1,"driver-info"],[1,"driver-avatar"],["name","person"],[1,"driver-details"],[1,"status-badge","assigned"],["name","checkmark-circle"],[1,"transport-actions"],["expand","block",1,"search-driver-btn",3,"click"],["name","search-outline","slot","start"],["expand","block","fill","outline",1,"change-transport-btn",3,"click"],["name","settings-outline","slot","start"],["name","card-outline",1,"header-icon"],[1,"payment-options",3,"ngModelChange","ngModel"],["class","payment-option",3,"selected",4,"ngFor","ngForOf"],[1,"payment-option"],[1,"payment-info"],[1,"payment-icon",3,"name"],[1,"payment-label"],[3,"value"],[1,"loading-content"],["name","dots",1,"loading-spinner"],[1,"loading-text"],[1,"modern-card","error-card"],[1,"error-content"],["name","alert-circle-outline",1,"error-icon"],[1,"error-title"],[1,"error-text"]],template:function(s,c){s&1&&(e(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),C("click",function(){return c.goBack()}),l(4,"ion-icon",4),t()(),e(5,"ion-title",5),n(6,"Checkout"),t()()(),e(7,"ion-content",6)(8,"div",7)(9,"ion-card",8)(10,"div",9)(11,"div",10),l(12,"ion-icon",11),e(13,"h2",12),n(14,"Order Details"),t()()(),e(15,"ion-card-content",13)(16,"div",14)(17,"div",15),l(18,"ion-icon",16),e(19,"span"),n(20,"Buyer"),t()(),e(21,"div",17),n(22),t()(),e(23,"div",14)(24,"div",15),l(25,"ion-icon",18),e(26,"span"),n(27,"Seller"),t()(),e(28,"div",17),n(29),t()()()()(),e(30,"div",7)(31,"ion-card",8)(32,"div",9)(33,"div",10),l(34,"ion-icon",19),e(35,"h2",12),n(36,"Delivery Address"),t()()(),e(37,"ion-card-content",13),y(38,ue,11,5,"div",20),t()()(),e(39,"div",7)(40,"ion-card",8)(41,"div",9)(42,"div",10),l(43,"ion-icon",21),e(44,"h2",12),n(45,"Order Items"),t()(),e(46,"div",22),n(47),t()(),e(48,"ion-card-content",13)(49,"div",23),y(50,fe,12,7,"div",24),t()()()(),e(51,"div",7)(52,"ion-card",25)(53,"div",9)(54,"div",10),l(55,"ion-icon",26),e(56,"h2",12),n(57,"Transport Options"),t()()(),e(58,"ion-card-content",13),y(59,_e,12,0,"div",27)(60,Ce,23,6,"div",28),t()()(),e(61,"div",7)(62,"ion-card",29)(63,"div",9)(64,"div",10),l(65,"ion-icon",30),e(66,"h2",12),n(67,"Order Summary"),t()()(),e(68,"ion-card-content",13)(69,"div",31)(70,"div",32)(71,"span",33),n(72,"Items Total"),t(),e(73,"span",34),n(74),t()(),y(75,be,5,1,"div",35),l(76,"div",36),e(77,"div",37)(78,"span",38),n(79,"Grand Total"),t(),e(80,"span",39),n(81),t()()()()()(),y(82,Oe,10,2,"div",40)(83,Me,6,0,"div",40)(84,we,8,0,"div",40),l(85,"div",41),t(),e(86,"ion-footer",42)(87,"div",43)(88,"div",44)(89,"span",45),n(90,"Total Amount"),t(),e(91,"span",46),n(92),t()(),e(93,"ion-button",47),C("click",function(){return c.confirmOrder()}),l(94,"ion-icon",48),n(95),t()()()),s&2&&(o(22),_(c.getRetailerInfo()),o(7),_(c.getWholesellerInfo()),o(9),m("ngIf",c.selectedAddress),o(9),v("",c.cartItems.length," items"),o(3),m("ngForOf",c.cartItems),o(9),m("ngIf",!c.hasRideRequest),o(),m("ngIf",c.hasRideRequest),o(14),v("\u20B9",c.totalPrice,""),o(),m("ngIf",c.hasRideRequest),o(6),v("\u20B9",c.grandTotal,""),o(),m("ngIf",!c.loadingPaymentMethods&&c.paymentMethods.length),o(),m("ngIf",c.loadingPaymentMethods),o(),m("ngIf",c.errorLoadingPaymentMethods),o(8),v("\u20B9",c.grandTotal,""),o(),m("disabled",c.orderPlaced||!c.selectedPaymentMethod),o(2),v(" ",c.orderPlaced?"Order Placed":"Confirm Order"," "))},dependencies:[F,z,U,re,V,K,Y,$,G,H,X,J,Q,Z,ee,te,ne,N,L,W,q],styles:[".checkout-content[_ngcontent-%COMP%]{--background: #f8f9fa}.checkout-toolbar[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgb(136, 172, 140) 0%, rgb(106, 142, 110) 100%);--color: #fff;--border-color: transparent;box-shadow:0 4px 12px #88ac8c4d}.back-btn[_ngcontent-%COMP%]{--color: #fff;--background-activated: rgba(255, 255, 255, .1)}.page-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#fff;text-shadow:0 1px 3px rgba(0,0,0,.3)}.progress-section[_ngcontent-%COMP%]{padding:1.5rem 1rem;background:#fff;box-shadow:0 2px 8px #0000001a;margin-bottom:1rem}.progress-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;max-width:400px;margin:0 auto}.progress-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.5rem}.step-circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.9rem;border:2px solid #ddd;background:#fff;color:#999;transition:all .3s ease}.progress-step.completed[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#88ac8c;border-color:#88ac8c;color:#fff}.progress-step.active[_ngcontent-%COMP%]   .step-circle[_ngcontent-%COMP%]{background:#88ac8c;border-color:#88ac8c;color:#fff;box-shadow:0 0 0 4px #88ac8c33}.step-label[_ngcontent-%COMP%]{font-size:.8rem;font-weight:500;color:#666}.progress-step.active[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%], .progress-step.completed[_ngcontent-%COMP%]   .step-label[_ngcontent-%COMP%]{color:#88ac8c;font-weight:600}.progress-line[_ngcontent-%COMP%]{flex:1;height:2px;background:#ddd;margin:0 1rem;transition:background .3s ease}.progress-line.completed[_ngcontent-%COMP%]{background:#88ac8c}.card-section[_ngcontent-%COMP%]{padding:0 1rem 1rem}.modern-card[_ngcontent-%COMP%]{--background: #fff;border-radius:20px;box-shadow:0 4px 16px #0000001a;border:1px solid #f0f0f0;margin:0;overflow:hidden}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 1.5rem 0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.header-icon[_ngcontent-%COMP%]{font-size:1.3rem;color:#88ac8c}.card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;margin:0}.items-count-badge[_ngcontent-%COMP%]{background:#88ac8c1a;color:#88ac8c;padding:.25rem .75rem;border-radius:15px;font-size:.8rem;font-weight:600}.card-content[_ngcontent-%COMP%]{padding:1.5rem}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:1rem 0;border-bottom:1px solid #f0f0f0}.detail-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.detail-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;color:#666}.detail-icon[_ngcontent-%COMP%]{font-size:1.1rem}.detail-icon.buyer-icon[_ngcontent-%COMP%]{color:#3880ff}.detail-icon.seller-icon[_ngcontent-%COMP%]{color:#88ac8c}.detail-value[_ngcontent-%COMP%]{font-weight:600;color:#333;text-align:right;flex:1;margin-left:1rem}.address-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:1rem}.address-info[_ngcontent-%COMP%]{flex:1}.address-name[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333;margin:0 0 .5rem}.address-text[_ngcontent-%COMP%]{color:#666;line-height:1.5;margin:0}.change-address-btn[_ngcontent-%COMP%]{--color: rgb(136, 172, 140);--border-color: rgb(136, 172, 140);--border-radius: 12px;font-weight:500;flex-shrink:0}.items-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.item-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:#f8f9fa;border-radius:12px;border:1px solid #e9ecef}.item-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.product-image[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;overflow:hidden;background:#e9ecef;display:flex;align-items:center;justify-content:center}.product-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.product-details[_ngcontent-%COMP%]{flex:1}.product-name[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#333;margin:0 0 .25rem}.product-specs[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0}.item-price[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.price-amount[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#88ac8c}.transport-card[_ngcontent-%COMP%]{background:linear-gradient(135deg,#88ac8c0d,#fffffff2)}.transport-offer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;padding:1rem;background:linear-gradient(135deg,#88ac8c1a,#88ac8c0d);border-radius:12px;border:1px solid rgba(136,172,140,.2)}.offer-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;flex:1}.offer-icon[_ngcontent-%COMP%]{font-size:2rem;color:#88ac8c}.offer-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333;margin:0 0 .25rem}.offer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0}.arrange-btn[_ngcontent-%COMP%]{--background: rgb(136, 172, 140);--color: #fff;--border-radius: 12px;font-weight:500;flex-shrink:0}.delivery-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem 1rem;background:#f8f9fa;border-radius:8px}.summary-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-weight:500;color:#666}.summary-icon[_ngcontent-%COMP%]{font-size:1rem;color:#88ac8c}.summary-value[_ngcontent-%COMP%]{font-weight:600;color:#333}.summary-value.price-highlight[_ngcontent-%COMP%]{color:#88ac8c;font-size:1.1rem}.driver-search[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.search-animation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.search-spinner[_ngcontent-%COMP%]{--color: rgb(136, 172, 140);transform:scale(1.5)}.search-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333;margin:0 0 .5rem}.search-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0;line-height:1.4}.driver-assigned[_ngcontent-%COMP%]{margin-bottom:1rem}.driver-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background:linear-gradient(135deg,#4caf501a,#4caf500d);border-radius:12px;border:1px solid rgba(76,175,80,.2)}.driver-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.driver-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#4caf5033;display:flex;align-items:center;justify-content:center}.driver-avatar[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:#4caf50}.driver-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#333;margin:0 0 .25rem}.driver-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin:0}.status-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:20px;font-size:.8rem;font-weight:600}.status-badge.assigned[_ngcontent-%COMP%]{background:#4caf501a;color:#4caf50}.transport-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.search-driver-btn[_ngcontent-%COMP%]{--background: rgb(136, 172, 140);--color: #fff;--border-radius: 12px;font-weight:500;height:48px}.change-transport-btn[_ngcontent-%COMP%]{--color: rgb(136, 172, 140);--border-color: rgb(136, 172, 140);--border-radius: 12px;font-weight:500;height:48px}.summary-card[_ngcontent-%COMP%]{border:2px solid rgba(136,172,140,.1)}.summary-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.summary-label[_ngcontent-%COMP%]{font-weight:500;color:#666}.summary-label.total[_ngcontent-%COMP%]{font-weight:700;color:#333;font-size:1.1rem}.summary-amount[_ngcontent-%COMP%]{font-weight:600;color:#333}.summary-amount.total[_ngcontent-%COMP%]{font-weight:700;color:#88ac8c;font-size:1.3rem}.summary-divider[_ngcontent-%COMP%]{height:1px;background:#e9ecef;margin:.5rem 0}.total-row[_ngcontent-%COMP%]{padding:1rem 0 0;border-top:2px solid #f0f0f0}.payment-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.payment-option[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;border:2px solid #f0f0f0;border-radius:12px;cursor:pointer;transition:all .3s ease}.payment-option.selected[_ngcontent-%COMP%]{border-color:#88ac8c;background:#88ac8c0d}.payment-option[_ngcontent-%COMP%]:hover{border-color:#88ac8c80}.payment-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.payment-icon[_ngcontent-%COMP%]{font-size:1.3rem;color:#88ac8c}.payment-label[_ngcontent-%COMP%]{font-weight:500;color:#333}.loading-content[_ngcontent-%COMP%], .error-content[_ngcontent-%COMP%]{text-align:center;padding:2rem 1rem}.loading-spinner[_ngcontent-%COMP%]{--color: rgb(136, 172, 140);margin-bottom:1rem}.loading-text[_ngcontent-%COMP%]{color:#666;font-weight:500}.error-card[_ngcontent-%COMP%]{border:1px solid rgba(255,107,107,.2)}.error-icon[_ngcontent-%COMP%]{font-size:3rem;color:#ff6b6b;margin-bottom:1rem}.error-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#333;margin:0 0 .5rem}.error-text[_ngcontent-%COMP%]{color:#666;margin:0;line-height:1.4}.checkout-footer[_ngcontent-%COMP%]{--background: #fff;box-shadow:0 -4px 16px #0000001a}.footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;gap:1rem}.total-summary[_ngcontent-%COMP%]{display:flex;flex-direction:column}.total-label[_ngcontent-%COMP%]{font-size:.8rem;color:#666;font-weight:500}.total-amount[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;color:#88ac8c}.confirm-order-btn[_ngcontent-%COMP%]{--background: linear-gradient(135deg, rgb(136, 172, 140), rgb(106, 142, 110));--color: #fff;--border-radius: 25px;height:56px;font-weight:600;font-size:1rem;min-width:180px;box-shadow:0 4px 16px #88ac8c66}.confirm-order-btn[_ngcontent-%COMP%]:disabled{--background: #ccc;box-shadow:none}.bottom-spacing[_ngcontent-%COMP%]{height:120px}@media (max-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.confirm-order-btn[_ngcontent-%COMP%]{width:100%}.address-container[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.change-address-btn[_ngcontent-%COMP%]{align-self:flex-start}.transport-offer[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.arrange-btn[_ngcontent-%COMP%]{width:100%}}@media (max-width: 480px){.card-section[_ngcontent-%COMP%]{padding:0 .5rem 1rem}.card-content[_ngcontent-%COMP%]{padding:1rem}.item-info[_ngcontent-%COMP%]{gap:.75rem}.product-image[_ngcontent-%COMP%]{width:40px;height:40px}.progress-line[_ngcontent-%COMP%]{margin:0 .5rem}.step-circle[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.8rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modern-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out;animation-fill-mode:both}.modern-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.modern-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.modern-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.modern-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}"]});let a=d;return a})();export{Be as CheckoutComponent};
