import{a as Q,b as U}from"./chunk-U74BFMQT.js";import{a as J,x as K}from"./chunk-2E2WOBKK.js";import{A as z,K as N,L as A,O as V,P as j,U as G,W as H,c as S,d as v,f as L,g as F,ga as q,o as B,p as D,t as E,u as R,v as W,x}from"./chunk-B7BKEKPT.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{Hb as y,I as c,J as _,Ja as b,Jb as O,M,Q as P,Sa as T,T as d,Tb as k,Wb as w,Y as r,Z as a,_ as u,da as p,pa as m,ra as I,va as h,wa as f,xa as g}from"./chunk-YS7BCJTD.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import"./chunk-LNJ3S2LQ.js";function Y(s,n){if(s&1&&(r(0,"ion-select-option",10),m(1),a()),s&2){let C=n.$implicit;d("value",C),c(),I(" ",C," ")}}var ce=(()=>{let n=class n{constructor(t){this.navController=t,this.selectedProducts=["Tomato","Onion"],this.searchTerm="",this.products=[{product:"Tomato",mandiPrices:[{mandi:"Delhi Mandi",price:22},{mandi:"Mumbai Mandi",price:25},{mandi:"Lucknow Mandi",price:20}]},{product:"Onion",mandiPrices:[{mandi:"Delhi Mandi",price:15},{mandi:"Mumbai Mandi",price:18},{mandi:"Lucknow Mandi",price:14}]},{product:"Potato",mandiPrices:[{mandi:"Delhi Mandi",price:12},{mandi:"Mumbai Mandi",price:14},{mandi:"Lucknow Mandi",price:11}]}],this.filteredProducts=[],J({chevronBackOutline:K})}ngOnInit(){this.filteredProducts=this.products.map(t=>t.product),this.updateChart()}goBack(){this.navController.back()}onProductChange(){this.selectedProducts.length>5&&(this.selectedProducts=this.selectedProducts.slice(0,5)),this.updateChart()}filterProductList(){let t=this.searchTerm.toLowerCase();this.filteredProducts=this.products.map(i=>i.product).filter(i=>i.toLowerCase().includes(t))}updateChart(){let t=this.products.filter(e=>this.selectedProducts.includes(e.product)),i=["Delhi Mandi","Mumbai Mandi","Lucknow Mandi"];this.chartOptions={series:i.map(e=>({name:e,data:t.map(l=>{var o;return((o=l.mandiPrices.find(X=>X.mandi===e))==null?void 0:o.price)||0})})),chart:{type:"bar",height:350,stacked:!1,toolbar:{show:!1},background:"#fff"},plotOptions:{bar:{horizontal:!1,borderRadius:6,columnWidth:"50%"}},colors:["#FF6B6B","#4ECDC4","#FFD166"],xaxis:{categories:t.map(e=>e.product)},yaxis:{title:{text:"Price (\u20B9/kg)"},labels:{formatter:e=>`\u20B9${e}`}},tooltip:{y:{formatter:e=>`\u20B9${e}`}}}}};n.\u0275fac=function(i){return new(i||n)(_(w))},n.\u0275cmp=M({type:n,selectors:[["app-retailer-trends"]],decls:19,vars:10,consts:[["slot","start"],["color","dark",3,"click"],["name","chevron-back-outline"],["size","12","size-md","3"],["position","stacked"],["interface","popover","multiple","true",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Search product","debounce","300",3,"ngModelChange","ionInput","ngModel"],["size","12","size-md","9"],[3,"series","chart","xaxis","yaxis","colors","plotOptions","tooltip"],[3,"value"]],template:function(i,e){i&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),p("click",function(){return e.goBack()}),u(4,"ion-icon",2),a()(),r(5,"ion-title"),m(6,"Price Comparison"),a()()(),r(7,"ion-content")(8,"ion-grid")(9,"ion-row")(10,"ion-col",3)(11,"ion-item")(12,"ion-label",4),m(13,"Select Products"),a(),r(14,"ion-select",5),g("ngModelChange",function(o){return f(e.selectedProducts,o)||(e.selectedProducts=o),o}),p("ionChange",function(){return e.onProductChange()}),P(15,Y,2,2,"ion-select-option",6),a()(),r(16,"ion-searchbar",7),g("ngModelChange",function(o){return f(e.searchTerm,o)||(e.searchTerm=o),o}),p("ionInput",function(){return e.filterProductList()}),a()(),r(17,"ion-col",8),u(18,"apx-chart",9),a()()()()),i&2&&(c(14),h("ngModel",e.selectedProducts),c(),d("ngForOf",e.filteredProducts),c(),h("ngModel",e.searchTerm),c(2),d("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("colors",e.chartOptions.colors)("plotOptions",e.chartOptions.plotOptions)("tooltip",e.chartOptions.tooltip))},dependencies:[q,L,F,B,D,E,R,W,x,z,N,A,V,j,G,H,S,v,U,Q,k,y,O,T,b],encapsulation:2});let s=n;return s})();export{ce as RetailerTrendsComponent};
