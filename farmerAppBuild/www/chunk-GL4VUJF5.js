import{B as q,d as _,f as B,ga as w,p as T,w as V,x as $}from"./chunk-B7BKEKPT.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{D as f,Gb as m,Hb as C,I as n,Ib as F,J as o,Ka as O,Kb as E,Lb as x,M as S,Nb as N,Q as g,Sa as L,Sb as U,T as u,Tb as j,U as v,Ub as M,Wa as y,Wb as D,Y as a,Z as d,_ as I,da as b,n as p,p as h,pa as l}from"./chunk-YS7BCJTD.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import"./chunk-LNJ3S2LQ.js";var G=(()=>{let r=class r{constructor(t){this.http=t,this.apiUrl="http://127.0.0.1:3000"}getOrderStatuses(){return this.http.get(`${this.apiUrl}/getOrderStatus`)}getOrderStatusById(t){return this.http.get(`${this.apiUrl}/getOrderStatusById/${t}`)}insertOrderStatus(t){return this.http.post(`${this.apiUrl}/orderStatusDetails`,t)}updateOrderStatus(t){return this.http.put(`${this.apiUrl}/orderStatusUpdate`,t)}};r.\u0275fac=function(e){return new(e||r)(h(y))},r.\u0275prov=p({token:r,factory:r.\u0275fac,providedIn:"root"});let i=r;return i})();function k(i,r){i&1&&(a(0,"p",5),l(1,"Order Status is required (max 50 characters)."),d())}var Y=(()=>{let r=class r{constructor(t,e,s,c){this.fb=t,this.el=e,this.orderStatusService=s,this.navCtrl=c,this.orderStatusList=[],this.isLoading=!1,this.orderStatus=this.fb.group({order_status:["",[m.required,m.maxLength(50)]]})}ngOnInit(){this.loadOrderStatuses()}loadOrderStatuses(){this.isLoading=!0,this.orderStatusService.getOrderStatuses().subscribe({next:t=>{this.orderStatusList=t,this.isLoading=!1},error:t=>{console.error("Error fetching order statuses:",t),this.isLoading=!1}})}isFieldInvalid(t){let e=this.orderStatus.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}submitForm(){if(this.orderStatus.valid){let t=this.orderStatus.value;this.isLoading=!0,this.orderStatusService.insertOrderStatus(t).subscribe({next:e=>{console.log("Order Status Inserted:",e),this.orderStatus.reset(),this.loadOrderStatuses(),this.isLoading=!1},error:e=>{console.error("Error inserting order status:",e),this.isLoading=!1}})}else{let t=this.el.nativeElement.querySelector(".ng-invalid");t&&t.scrollIntoView({behavior:"smooth"})}}updateOrderStatus(){if(this.orderStatus.valid){let t=this.orderStatus.value;this.isLoading=!0,this.orderStatusService.updateOrderStatus(t).subscribe({next:e=>{console.log("Order Status Updated:",e),this.orderStatus.reset(),this.loadOrderStatuses(),this.isLoading=!1},error:e=>{console.error("Error updating order status:",e),this.isLoading=!1}})}else{let t=this.el.nativeElement.querySelector(".ng-invalid");t&&t.scrollIntoView({behavior:"smooth"})}}};r.\u0275fac=function(e){return new(e||r)(o(U),o(f),o(G),o(D))},r.\u0275cmp=S({type:r,selectors:[["app-order-status"]],decls:9,vars:4,consts:[[3,"ngSubmit","formGroup"],["label","Order Status","labelPlacement","floating","formControlName","order_status"],["class","error",4,"ngIf"],[1,"center-button"],["type","submit",1,"custom-button"],[1,"error"]],template:function(e,s){e&1&&(a(0,"ion-content")(1,"form",0),b("ngSubmit",function(){return s.submitForm()}),a(2,"ion-list")(3,"ion-item"),I(4,"ion-input",1),d(),g(5,k,2,0,"p",2),a(6,"div",3)(7,"ion-button",4),l(8," SUBMIT "),d()()()()()),e&2&&(n(),u("formGroup",s.orderStatus),n(2),v("invalid",s.isFieldInvalid("order_status")),n(2),u("ngIf",s.isFieldInvalid("order_status")))},dependencies:[w,B,T,V,$,q,_,L,O,j,E,C,F,M,x,N],encapsulation:2});let i=r;return i})();export{Y as OrderStatusComponent};
