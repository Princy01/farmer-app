import{G as te,O as ie,R as ne,V as oe,a as U,b as X,m as Z,na as re,r as ee,wa as ae}from"./chunk-2E2WOBKK.js";import{a as le}from"./chunk-KJYOEG4X.js";import{A as j,B as Y,O as H,P as L,U as Q,W as $,Y as R,b as F,c as k,d as q,f as N,fa as J,g as T,ga as K,h as z,i as B,p as D,u as W,v as A,w as G,x as V}from"./chunk-B7BKEKPT.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{Gb as r,Hb as w,I as c,Ib as O,J as u,Ja as v,Kb as y,Lb as I,M as _,Nb as P,Q as b,Sa as S,Sb as M,T as d,Ub as E,Y as t,Z as e,_ as o,da as C,pa as i,ra as g}from"./chunk-YS7BCJTD.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import{a as h,b as x,h as f}from"./chunk-LNJ3S2LQ.js";function me(s,l){if(s&1&&(t(0,"ion-select-option",36),i(1),e()),s&2){let p=l.$implicit;d("value",p),c(),g(" ",p," ")}}function se(s,l){if(s&1&&(t(0,"ion-select-option",36),i(1),e()),s&2){let p=l.$implicit;d("value",p),c(),g(" ",p," ")}}var ve=(()=>{let l=class l{constructor(n,m,a){this.fb=n,this.wholesalerService=m,this.toastCtrl=a,this.isSubmitting=!1,this.qualities=["A","B","C"],this.wastages=["0%","2%","5%","10%"],U({leafOutline:ne,starOutline:re,warningOutline:ae,cubeOutline:te,cashOutline:ee,calendarOutline:Z,locationOutline:oe,addCircleOutline:X,homeOutline:ie}),this.initForm()}initForm(){this.orderForm=this.fb.group({product_id:["",r.required],quality:["",r.required],wastage:["",r.required],quantity:["",[r.required,r.min(0)]],price:["",[r.required,r.min(0)]],datetime:["",r.required],mandi_id:["",r.required],warehouse_id:["",r.required],unit_id:[2,r.required],wholeseller_id:[3,r.required]})}ngOnInit(){}createOrder(){return f(this,null,function*(){if(this.orderForm.valid&&!this.isSubmitting){this.isSubmitting=!0;try{let n=this.orderForm.value,m=x(h({},n),{product_id:parseInt(n.product_id,10),mandi_id:parseInt(n.mandi_id,10),warehouse_id:parseInt(n.warehouse_id,10),unit_id:parseInt(n.unit_id,10),wholeseller_id:parseInt(n.wholeseller_id,10),quantity:parseFloat(n.quantity),price:parseFloat(n.price),datetime:new Date(n.datetime).toISOString()}),a=yield this.wholesalerService.createWholesellerEntry(m).toPromise();yield this.showToast("Order created successfully!","success"),this.orderForm.reset()}catch(n){console.error("Failed to create order:",n),yield this.showToast("Failed to create order. Please try again.","danger")}finally{this.isSubmitting=!1}}else yield this.showToast("Please fill all required fields correctly.","warning")})}showToast(n,m){return f(this,null,function*(){yield(yield this.toastCtrl.create({message:n,duration:3e3,color:m,position:"bottom"})).present()})}};l.\u0275fac=function(m){return new(m||l)(u(M),u(le),u(J))},l.\u0275cmp=_({type:l,selectors:[["app-screen3"]],decls:72,vars:5,consts:[[1,"ion-no-border"],["mode","ios"],["slot","start"],["defaultHref","/wholesaler/home","color","dark"],[1,"ion-text-center","custom-title"],[1,"ion-padding"],[1,"form-container"],[1,"section-title"],["mode","md"],[3,"formGroup"],["lines","full"],[1,"custom-item"],["position","floating"],["name","leaf-outline",1,"input-icon"],["formControlName","product_id"],["value","1"],["value","2"],["name","star-outline",1,"input-icon"],["formControlName","quality","interface","action-sheet"],[3,"value",4,"ngFor","ngForOf"],["name","warning-outline",1,"input-icon"],["formControlName","wastage","interface","action-sheet"],["name","cube-outline",1,"input-icon"],["type","number","formControlName","quantity"],["name","cash-outline",1,"input-icon"],["type","number","formControlName","price"],["position","stacked"],["name","calendar-outline",1,"input-icon"],["type","datetime-local","formControlName","datetime"],["name","location-outline",1,"input-icon"],["formControlName","mandi_id"],["name","home-outline",1,"input-icon"],["formControlName","warehouse_id"],[1,"ion-padding-top","ion-text-center"],["expand","block","shape","round",1,"custom-button",3,"click","disabled"],["slot","start","name","add-circle-outline"],[3,"value"]],template:function(m,a){m&1&&(t(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o(3,"ion-back-button",3),e(),t(4,"ion-title",4),i(5,"For Sale"),e()()(),t(6,"ion-content",5)(7,"div",6)(8,"h2",7),i(9,"Create New Order"),e(),t(10,"ion-card",8)(11,"ion-card-content")(12,"form",9)(13,"ion-list",10)(14,"ion-item",11)(15,"ion-label",12),o(16,"ion-icon",13),i(17," Select Product "),e(),t(18,"ion-select",14)(19,"ion-select-option",15),i(20,"Product 1"),e(),t(21,"ion-select-option",16),i(22,"Product 2"),e()()(),t(23,"ion-item",11)(24,"ion-label",12),o(25,"ion-icon",17),i(26," Select Quality "),e(),t(27,"ion-select",18),b(28,me,2,2,"ion-select-option",19),e()(),t(29,"ion-item",11)(30,"ion-label",12),o(31,"ion-icon",20),i(32," Select Wastage Percentage "),e(),t(33,"ion-select",21),b(34,se,2,2,"ion-select-option",19),e()(),t(35,"ion-item",11)(36,"ion-label",12),o(37,"ion-icon",22),i(38," Enter Quantity (kg) "),e(),o(39,"ion-input",23),e(),t(40,"ion-item",11)(41,"ion-label",12),o(42,"ion-icon",24),i(43," Enter Price per kg (\u20B9) "),e(),o(44,"ion-input",25),e(),t(45,"ion-item",11)(46,"ion-label",26),o(47,"ion-icon",27),i(48," Select Pickup Date & Time "),e(),o(49,"ion-input",28),e(),t(50,"ion-item",11)(51,"ion-label",12),o(52,"ion-icon",29),i(53," Select Mandi "),e(),t(54,"ion-select",30)(55,"ion-select-option",15),i(56,"Mandi 1"),e(),t(57,"ion-select-option",16),i(58,"Mandi 2"),e()()(),t(59,"ion-item",11)(60,"ion-label",12),o(61,"ion-icon",31),i(62," Select Warehouse "),e(),t(63,"ion-select",32)(64,"ion-select-option",15),i(65,"Warehouse 1"),e(),t(66,"ion-select-option",16),i(67,"Warehouse 2"),e()()()()()()(),t(68,"div",33)(69,"ion-button",34),C("click",function(){return a.createOrder()}),o(70,"ion-icon",35),i(71),e()()()()),m&2&&(c(12),d("formGroup",a.orderForm),c(16),d("ngForOf",a.qualities),c(6),d("ngForOf",a.wastages),c(35),d("disabled",!a.orderForm.valid||a.isSubmitting),c(2),g(" ",a.isSubmitting?"Creating...":"Create Order"," "))},dependencies:[K,N,T,z,B,D,W,A,G,V,j,Y,H,L,Q,$,F,k,q,R,E,y,w,O,I,P,S,v],styles:['[_nghost-%COMP%]{--card-background: #ffffff;--input-border: #e0e0e0;--transition: all .3s ease}ion-toolbar[_ngcontent-%COMP%]:first-child{--background: radial-gradient(circle, #ffffff 0%, #eef2f3 100%);--border-width: 0}ion-title[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;font-family:Georgia,Times,serif}.form-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.section-title[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:600;color:var(--ion-color-dark);margin-bottom:1.5rem;position:relative;padding-left:1rem}.section-title[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:4px;height:24px;background:var(--ion-color-primary);border-radius:2px}ion-card[_ngcontent-%COMP%]{background:var(--card-background);border-radius:24px;box-shadow:0 8px 24px #00000014;transition:var(--transition);margin:0}ion-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 32px #0000001f}.custom-item[_ngcontent-%COMP%]{--padding-start: 1rem;--inner-padding-end: 1rem;--background: transparent;margin-bottom:6px;border:1px solid var(--input-border);border-radius:12px;transition:var(--transition)}.custom-item[_ngcontent-%COMP%]:focus-within{border-color:var(--ion-color-primary);box-shadow:0 0 0 2px rgba(var(--ion-color-primary-rgb),.2)}.input-icon[_ngcontent-%COMP%]{font-size:1.2rem;margin-right:.8rem;color:var(--ion-color-medium);transition:var(--transition)}.custom-item[_ngcontent-%COMP%]:focus-within   .input-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-input[_ngcontent-%COMP%]{--padding-start: .8rem;--padding-end: .8rem;margin-top:.5rem;font-size:1rem}ion-input[_ngcontent-%COMP%]::part(native){padding:.8rem 0}ion-select[_ngcontent-%COMP%]{--padding-start: 9rem;--padding-end: .8rem;--padding-bottom: 1.8rem;margin-top:4px;font-size:1rem}ion-select[_ngcontent-%COMP%]::part(native){padding:.8rem 0}ion-button[_ngcontent-%COMP%]{margin:2rem 0;--border-radius: 16px;height:56px;font-size:1.1rem;font-weight:600;letter-spacing:.5px;--box-shadow: 0 8px 16px rgba(var(--ion-color-primary-rgb), .24);transition:var(--transition)}ion-button[_ngcontent-%COMP%]:hover{--box-shadow: 0 12px 24px rgba(var(--ion-color-primary-rgb), .32);transform:translateY(-2px)}.custom-button[_ngcontent-%COMP%]{--background: rgb(136, 172, 140);--background-hover: rgb(116, 152, 120);--background-activated: rgb(116, 152, 120);--background-focused: rgb(116, 152, 120);--color: white;--box-shadow: 0 2px 6px rgba(136, 172, 140, .3);--ripple-color: rgb(116, 152, 120);--border-radius: 6px}@media (max-width: 576px){.custom-title[_ngcontent-%COMP%]{font-size:1.5rem}.section-title[_ngcontent-%COMP%]{font-size:1.2rem}ion-button[_ngcontent-%COMP%]{height:48px;font-size:1rem}}']});let s=l;return s})();export{ve as ForSaleComponent};
