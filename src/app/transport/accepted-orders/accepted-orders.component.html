<ion-content>
  <!-- Pull-to-Refresh -->
  <ion-refresher slot="fixed" (ionRefresh)="loadAcceptedOrders($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- Orders List -->
  <ion-list *ngIf="!loading && acceptedOrders.length > 0">
    <ion-card *ngFor="let order of acceptedOrders" class="order-card">
      <ion-card-header>
        <h5><strong>Order ID: {{ order.id }}</strong></h5>
      </ion-card-header>

      <ion-card-content>
        <ion-item lines="none">
          <ion-icon name="location-outline" slot="start"></ion-icon>
          <ion-label>
            <h3>Pickup</h3>
            <p>{{ order.pickupLocation }}</p>
          </ion-label>
        </ion-item>

        <ion-item lines="none">
          <ion-icon name="navigate-outline" slot="start"></ion-icon>
          <ion-label>
            <h3>Destination</h3>
            <p>{{ order.deliveryLocation }}</p>
          </ion-label>
        </ion-item>

        <ion-item lines="none">
          <ion-icon name="calendar-outline" slot="start"></ion-icon>
          <ion-label>
            <h3>Delivery Date</h3>
            <p>{{ order.deliveryDate | date:'mediumDate' }}</p>
          </ion-label>
        </ion-item>

        <ion-item lines="none">
          <ion-icon name="cash-outline" slot="start"></ion-icon>
          <ion-label>
            <h3>Cost</h3>
            <p>â‚¹{{ order.cost | number:'1.2-2' }}</p>
          </ion-label>
        </ion-item>

        <!-- Assign Driver Button -->
        <ion-button expand="block" color="primary" class="assign-btn" (click)="openAssignDriverModal(order)">
          <ion-icon name="person-add-outline" slot="start"></ion-icon>
          Assign Vehicle & Driver
        </ion-button>

      </ion-card-content>
    </ion-card>
  </ion-list>

  <!-- Loading Spinner -->
  <div class="center-content" *ngIf="loading">
    <ion-spinner name="crescent"></ion-spinner>
  </div>

  <!-- No Orders Message -->
  <div class="center-content" *ngIf="!loading && acceptedOrders.length === 0">
    <ion-icon name="clipboard-outline" size="large"></ion-icon>
    <p>No accepted transport orders</p>
  </div>
</ion-content>
