<ion-content>
  <form [formGroup]="stateForm" (ngSubmit)="submitForm()">
    <ion-list>
      <ion-item [class.invalid]="isFieldInvalid('state')">
        <ion-input label="State Name" labelPlacement="floating" formControlName="state"></ion-input>
      </ion-item>
      <p class="error" *ngIf="isFieldInvalid('state')">Max 50 characters allowed.</p>

      <ion-item [class.invalid]="isFieldInvalid('stateShortNames')">
        <ion-input label="State Short Name" labelPlacement="floating" formControlName="stateShortNames"></ion-input>
      </ion-item>
      <p class="error" *ngIf="isFieldInvalid('stateShortNames')">Max 10 characters allowed.</p>

      <div class="center-button">
        <ion-button type="submit" class="custom-button">SUBMIT</ion-button>
      </div>
    </ion-list>
  </form>

  <ion-list>
    <ion-label class="center-label">AVAILABLE STATES</ion-label>
  <!-- a DeleteState function in Go is needed for this-->
  <ion-item-group>
    <ion-item *ngFor="let state of states">
      <ion-label>
        <h2>{{ state.state | titlecase }}</h2>
        <p>{{ state.stateShortNames }}</p>
      </ion-label>
      <ion-button slot="end" color="danger" (click)="deleteState(state.id)">
        <ion-icon name="trash-outline"></ion-icon>
      </ion-button>
    </ion-item>
</ion-item-group>
</ion-list>
</ion-content>
