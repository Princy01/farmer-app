import{$a as ce,B as ee,Ga as re,La as ae,Ma as se,O as te,S as ne,Va as le,a as Y,c as J,hb as me,j as Z,nb as de,rb as ue,sa as ie,ya as oe}from"./chunk-ZSFP4GD7.js";import{a as pe}from"./chunk-MLCCNMJ3.js";import{B as D,C as N,J as V,K as B,M as G,U as q,W as $,aa as K,ba as Q,ca as U,d as T,da as W,f as E,g as H,ga as X,h as j,q as R,t as A,v as F,w as L,y as z}from"./chunk-BQTIQUN7.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{$ as u,I as m,J as p,Ka as I,La as P,M as w,Q as _,T as f,Ta as S,Z as t,Zb as M,_ as n,da as y,db as k,ea as a,fa as b,pa as s,qa as x,ra as C,u as O,v}from"./chunk-SSO4CHWC.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import{h as g}from"./chunk-LNJ3S2LQ.js";function fe(r,c){if(r&1&&(t(0,"ion-badge",23),s(1),n()),r&2){let d=b();m(),x(d.notifications)}}function _e(r,c){if(r&1&&(t(0,"ion-badge",23),s(1),n()),r&2){let d=b();m(),x(d.messages)}}function be(r,c){if(r&1){let d=y();t(0,"ion-item",24)(1,"ion-label")(2,"h2"),s(3),n(),t(4,"p"),s(5),n(),t(6,"p"),s(7),n()(),t(8,"ion-icon",25),a("click",function(){let o=O(d).$implicit,e=b();return v(e.viewDetails(o))}),n()()}if(r&2){let d=c.$implicit;m(3),x(d.name),m(2),C("Total Quantity: ",d.qty," kg"),m(2),C("Orders placed: ",d.orders," kg")}}var ke=(()=>{let c=class c{constructor(i,o,e,l,h,ge,he){this.navCtrl=i,this.router=o,this.menuCtrl=e,this.actionSheetController=l,this.wholesalerService=h,this.loadingCtrl=ge,this.alertCtrl=he,this.items=[],this.filteredItems=[],this.notifications=5,this.messages=3,Y({chatbubblesSharp:ee,notificationsCircleSharp:re,logoAndroid:oe,personCircleSharp:ae,arrowForwardCircleSharp:Z,chevronForwardOutline:te,listCircleOutline:ie,addCircleOutline:J,timeOutline:de,statsChartOutline:me,personOutline:se,trendingUpOutline:ue,reloadOutline:le,settingsOutline:ce,closeOutline:ne})}loadOrderSummary(){return g(this,null,function*(){let i=yield this.loadingCtrl.create({message:"Loading inventory...",spinner:"circular"});try{yield i.present(),this.wholesalerService.getOrderSummary().subscribe({next:o=>{this.items=o.map(e=>({name:e.product_name,qty:e.stock_left,orders:e.stock_in})),this.filteredItems=[...this.items],i.dismiss()},error:o=>g(this,null,function*(){i.dismiss(),yield(yield this.alertCtrl.create({header:"Error",message:"Failed to load inventory. Please try again later.",buttons:[{text:"Dismiss",role:"cancel"},{text:"Retry",handler:()=>{this.loadOrderSummary()}}]})).present()})})}catch{i.dismiss(),yield(yield this.alertCtrl.create({header:"Error",message:"An unexpected error occurred.",buttons:["OK"]})).present()}})}handleRefresh(i){return g(this,null,function*(){try{yield this.loadOrderSummary()}finally{i.target.complete()}})}presentActionSheet(){return g(this,null,function*(){yield(yield this.actionSheetController.create({header:"Account Options",buttons:[{text:"Profile",icon:"person-outline",cssClass:"custom-action-sheet-btn",handler:()=>{this.router.navigate(["/wholesaler/profile"])}},{text:"Market Opportunities",icon:"trending-up-outline",cssClass:"custom-action-sheet-btn",handler:()=>{this.router.navigate(["/wholesaler/market-opportunities"])}},{text:"Restocking Recommendations",icon:"reload-outline",cssClass:"custom-action-sheet-btn",handler:()=>{this.router.navigate(["/wholesaler/restocking-recommendations"])}},{text:"Settings",icon:"settings-outline",cssClass:"custom-action-sheet-btn",handler:()=>{this.router.navigate(["/wholesaler/settings"])}},{text:"Cancel",icon:"close-outline",role:"cancel",cssClass:"custom-action-sheet-btn"}]})).present()})}ngOnInit(){this.loadOrderSummary()}createOrder(){this.router.navigate(["/wholesaler/for-sale"])}viewMyOrders(){this.router.navigate(["/wholesaler/orders"])}viewPastOrders(){this.router.navigate(["/wholesaler/past-orders"])}searchItems(i){let o=i.target.value.toLowerCase();this.filteredItems=this.items.filter(e=>e.name.toLowerCase().includes(o))}toggleMenu(){return g(this,null,function*(){yield this.menuCtrl.toggle()})}viewDetails(i){console.log("Item details:",i)}loadMore(){console.log("Load more items")}openProfile(){this.navCtrl.navigateForward("/profile")}openNotifications(){console.log("Opening notifications")}openMessages(){console.log("Opening messages")}openTrends(){this.router.navigate(["/wholesaler/trends"])}};c.\u0275fac=function(o){return new(o||c)(p(M),p(k),p(W),p(Q),p(pe),p(U),p(K))},c.\u0275cmp=w({type:c,selectors:[["app-home"]],decls:39,vars:4,consts:[["mode","ios","slot","start"],[3,"click"],["name","stats-chart-outline","slot","icon-only"],["class","custom-badge",4,"ngIf"],["name","notifications-circle-sharp","slot","icon-only"],["mode","ios",2,"--color","rgb(245, 240, 230)"],["mode","ios","slot","end"],["name","chatbubbles-sharp","slot","icon-only"],["name","person-circle-sharp","size","large"],[3,"scrollEvents"],["slot","fixed",3,"ionRefresh"],["pullingIcon","chevron-down-circle-outline","pullingText","Pull to refresh","refreshingSpinner","circular","refreshingText","Refreshing..."],[1,"search-wrapper"],["placeholder","Search items...",3,"ionInput"],["lines","none",4,"ngFor","ngForOf"],[1,"center-button"],[1,"loadMore",3,"click"],[1,"Orders-toolbar"],[1,"button-group"],[1,"footer-button",3,"click"],["name","list-circle-outline"],["name","add-circle-outline"],["name","time-outline"],[1,"custom-badge"],["lines","none"],["name","chevron-forward-outline","size","small",3,"click"]],template:function(o,e){o&1&&(t(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),a("click",function(){return e.openTrends()}),u(4,"ion-icon",2),n(),t(5,"ion-button",1),a("click",function(){return e.openNotifications()}),_(6,fe,2,1,"ion-badge",3),u(7,"ion-icon",4),n()(),t(8,"ion-title",5),s(9,"Go4u"),n(),s(10," . "),t(11,"ion-buttons",6)(12,"ion-button",1),a("click",function(){return e.openMessages()}),_(13,_e,2,1,"ion-badge",3),u(14,"ion-icon",7),n(),t(15,"ion-button",1),a("click",function(){return e.presentActionSheet()}),u(16,"ion-icon",8),n()()()(),t(17,"ion-content",9)(18,"ion-refresher",10),a("ionRefresh",function(h){return e.handleRefresh(h)}),u(19,"ion-refresher-content",11),n(),t(20,"div",12)(21,"ion-searchbar",13),a("ionInput",function(h){return e.searchItems(h)}),n()(),t(22,"ion-list"),_(23,be,9,3,"ion-item",14),n(),t(24,"div",15)(25,"ion-button",16),a("click",function(){return e.loadMore()}),s(26,"Load More"),n()()(),t(27,"ion-footer",17)(28,"ion-toolbar")(29,"ion-buttons",18)(30,"ion-button",19),a("click",function(){return e.viewMyOrders()}),u(31,"ion-icon",20),s(32," My Orders "),n(),t(33,"ion-button",19),a("click",function(){return e.createOrder()}),u(34,"ion-icon",21),s(35," Create Order "),n(),t(36,"ion-button",19),a("click",function(){return e.viewPastOrders()}),u(37,"ion-icon",22),s(38," Past Orders "),n()()()()),o&2&&(m(6),f("ngIf",e.notifications>0),m(7),f("ngIf",e.messages>0),m(4),f("scrollEvents",!0),m(6),f("ngForOf",e.filteredItems))},dependencies:[X,E,H,j,R,A,F,L,z,D,N,V,B,G,q,$,T,S,I,P],styles:['ion-toolbar[_ngcontent-%COMP%]{--background: rgb(136, 172, 140)}.custom-badge[_ngcontent-%COMP%]{--background: rgb(150, 235, 85);--color: white}.loadMore[_ngcontent-%COMP%]{font-family:Georgia,Times,serif;--background: rgb(136, 172, 140);--color: white;--border-radius: 8px;--box-shadow: 0 4px 6px rgba(0, 0, 0, .1);margin-bottom:100px}ion-item[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:7px;padding:5px;margin:10px auto;max-width:320px;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease,box-shadow .3s ease}ion-item[_ngcontent-%COMP%]:hover{transform:perspective(1000px) rotateX(10deg) rotateY(-10deg) scale(1.05);box-shadow:0 8px 16px #0003}h2[_ngcontent-%COMP%]{font-family:"Arial, sans-serif";font-size:18px}p[_ngcontent-%COMP%]{font-family:Georgia,Times,serif}ion-button[_ngcontent-%COMP%]{--color: rgb(245, 240, 230)}.search-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}ion-searchbar[_ngcontent-%COMP%]{font-family:"Arial, sans-serif";width:345px}.fixed-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000;transition:transform .3s ease-in-out}.fixed-button[_ngcontent-%COMP%]:hover{transform:rotate(360deg)}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.Orders-toolbar[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .7);--min-height: 70px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-top:1px solid rgba(0,0,0,.05);padding:0;display:flex;justify-content:center;align-items:center}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;width:100%;padding:6px 0}.footer-button[_ngcontent-%COMP%]{--color: gray;--background: transparent;font-weight:700;text-transform:none;font-size:11px;flex-direction:column;display:flex;align-items:center;justify-content:center;height:100%;flex:1;border-radius:0;transition:background .2s ease}.footer-button[_ngcontent-%COMP%]:hover{--background: rgba(76, 175, 80, .1)}.footer-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px;margin-bottom:3px}  .custom-action-sheet-btn{color:#9ac09f!important}']});let r=c;return r})();export{ke as HomePage};
