import{a as Q,ta as W}from"./chunk-ZSFP4GD7.js";import{C as H,P as z,Q as J,c as O,d as B,g as G,ga as K,q as R,x as k,y as L}from"./chunk-BQTIQUN7.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{a as X}from"./chunk-FHEO7GNC.js";import{$ as E,D as _,I as o,J as p,Jb as v,Ka as P,Kb as T,La as N,Lb as U,M as b,Nb as $,Ob as M,Q as d,Qb as q,T as s,Ta as w,V as u,Vb as D,Xb as V,Ya as x,Z as a,Zb as A,_ as l,bb as j,e as f,ea as C,h as m,n as y,p as S,pa as c,ra as F}from"./chunk-SSO4CHWC.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import"./chunk-LNJ3S2LQ.js";var Y=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl=X.apiUrl}createProduct(e){return this.http.post(`${this.apiUrl}/productDetails`,e).pipe(m(this.handleError))}updateProduct(e){return this.http.put(`${this.apiUrl}/productUpdate`,e).pipe(m(this.handleError))}deleteProduct(e){return this.http.delete(`${this.apiUrl}/productDelete/${e}`).pipe(m(this.handleError))}getCategories(){return this.http.get(`${this.apiUrl}/getCategories`).pipe(m(this.handleError))}handleError(e){if(e.error instanceof ErrorEvent)return console.error("An error occurred:",e.error.message),f(()=>new Error("Something went wrong. Please try again later."));{console.error(`Backend returned code ${e.status}, body was: ${e.error}`);let r="Something went wrong. Please try again later.";return e.error&&e.error.message&&(r=e.error.message),f(()=>new Error(r))}}};t.\u0275fac=function(r){return new(r||t)(S(x))},t.\u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function ie(i,t){i&1&&(a(0,"p",9),c(1,"Product Name is required (max 100 characters)."),l())}function re(i,t){if(i&1&&(a(0,"ion-select-option",6),c(1),l()),i&2){let h=t.$implicit;s("value",h.id),o(),F(" ",h.category_name," ")}}function oe(i,t){i&1&&(a(0,"p",9),c(1,"Category is required."),l())}function ne(i,t){i&1&&(a(0,"p",9),c(1,"Status is required."),l())}var Se=(()=>{let t=class t{constructor(e,r,n,g,Z){this.fb=e,this.el=r,this.productService=n,this.navCtrl=g,this.route=Z,this.categories=[],Q({listOutline:W}),this.product=this.fb.group({category_id:["",v.required],product_name:["",[v.maxLength(100)]],status:[0]}),this.route.queryParams.subscribe(I=>{I.category_id&&this.product.patchValue({category_id:I.category_id})})}isFieldInvalid(e){let r=this.product.get(e);return!!(r&&r.invalid&&(r.dirty||r.touched))}submitForm(){if(this.product.valid)console.log("Form Submitted:",this.product.value),this.productService.createProduct(this.product.value).subscribe({next:e=>{console.log("Data:",e),this.product.reset()},error:e=>{console.error("Error:",e)}});else{let e=this.el.nativeElement.querySelector(".invalid");e&&e.scrollIntoView({behavior:"smooth"})}}};t.\u0275fac=function(r){return new(r||t)(p(D),p(_),p(Y),p(A),p(j))},t.\u0275cmp=b({type:t,selectors:[["app-product"]],decls:20,vars:13,consts:[[3,"ngSubmit","formGroup"],["label","Product Name","labelPlacement","floating","formControlName","product_name"],["class","error",4,"ngIf"],["label","Category","formControlName","category_id"],[3,"value",4,"ngFor","ngForOf"],["label","Product Status","formControlName","status"],[3,"value"],[1,"center-button"],[1,"custom-button"],[1,"error"]],template:function(r,n){r&1&&(a(0,"ion-content")(1,"form",0),C("ngSubmit",function(){return n.submitForm()}),a(2,"ion-list")(3,"ion-item"),E(4,"ion-input",1),l(),d(5,ie,2,0,"p",2),a(6,"ion-item")(7,"ion-select",3),d(8,re,2,2,"ion-select-option",4),l()(),d(9,oe,2,0,"p",2),a(10,"ion-item")(11,"ion-select",5)(12,"ion-select-option",6),c(13,"Active"),l(),a(14,"ion-select-option",6),c(15,"Inactive"),l()()(),d(16,ne,2,0,"p",2),a(17,"div",7)(18,"ion-button",8),c(19," SUBMIT "),l()()()()()),r&2&&(o(),s("formGroup",n.product),o(2),u("invalid",n.isFieldInvalid("product_name")),o(2),s("ngIf",n.isFieldInvalid("product_name")),o(),u("invalid",n.isFieldInvalid("category_id")),o(2),s("ngForOf",n.categories),o(),s("ngIf",n.isFieldInvalid("category_id")),o(),u("invalid",n.isFieldInvalid("status")),o(2),s("value",1),o(2),s("value",0),o(2),s("ngIf",n.isFieldInvalid("status")))},dependencies:[K,G,R,k,L,H,z,J,O,B,w,P,N,V,$,T,U,M,q],encapsulation:2});let i=t;return i})();export{Se as ProductComponent};
