import{a as X}from"./chunk-MLCCNMJ3.js";import{B as Q,C as U,F as W,U as $,W as G,Y as J,g as F,ga as K,h as j,i as L,j as A,k as z,l as q,q as H,v as N,y as V}from"./chunk-BQTIQUN7.js";import"./chunk-EKYO6VDW.js";import"./chunk-24IHF5HR.js";import"./chunk-KFDLIPX5.js";import"./chunk-EPJFQAWK.js";import"./chunk-4UA7XWWY.js";import"./chunk-3P4LCZSC.js";import"./chunk-QB2INVK3.js";import"./chunk-T4NRX6V6.js";import"./chunk-R2OJ64UA.js";import"./chunk-RPLHLNGJ.js";import"./chunk-JZD5S6T4.js";import"./chunk-G223UPOJ.js";import"./chunk-ZSV5V4UX.js";import"./chunk-6AR4DOND.js";import"./chunk-67J5UTTO.js";import"./chunk-3QTGG56W.js";import"./chunk-SACCBILY.js";import"./chunk-GYT6Z5WN.js";import{$ as v,Ba as s,Da as m,I as r,J as x,Ka as M,La as k,M as y,Q as _,Ra as B,Sa as w,T as u,Ta as T,W as D,Z as e,_ as t,bb as R,d as I,da as E,ea as P,fa as f,h,j as C,pa as n,qa as g,ra as c,sa as b,u as O,v as S}from"./chunk-SSO4CHWC.js";import"./chunk-5BIRNKZZ.js";import"./chunk-PN5KWPLT.js";import"./chunk-ZPEM7JC5.js";import"./chunk-AQXWH6LN.js";import"./chunk-XFZJ45JG.js";import"./chunk-QYFRFJTZ.js";import"./chunk-MN6QQCMN.js";import"./chunk-TP642E63.js";import"./chunk-SRRF7I6H.js";import"./chunk-LNJ3S2LQ.js";function Y(o,a){o&1&&v(0,"ion-progress-bar",5)}function Z(o,a){if(o&1&&(e(0,"ion-item")(1,"ion-label")(2,"h2"),n(3),t(),e(4,"p"),n(5),t(),e(6,"p"),n(7),t(),e(8,"p"),n(9),t()()()),o&2){let i=a.$implicit;r(3),g(i.product_name),r(2),c("Category: ",i.category_name,""),r(2),b("Quantity: ",i.quantity," ",i.unit_name,""),r(2),b("Price: \u20B9",i.max_price,"/",i.unit_name,"")}}function ee(o,a){if(o&1&&(e(0,"div",10)(1,"span"),n(2,"Delivery Date"),t(),e(3,"span"),n(4),s(5,"date"),t()()),o&2){let i=f(2);r(4),g(m(5,1,i.orderDetails.actual_delivery_date,"medium"))}}function te(o,a){if(o&1&&(e(0,"div",6)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-subtitle"),n(4,"Status"),t()(),e(5,"ion-card-content")(6,"div",7),n(7),t()()(),e(8,"ion-card")(9,"ion-card-header")(10,"ion-card-subtitle"),n(11,"Retailer Information"),t()(),e(12,"ion-card-content")(13,"ion-item",8)(14,"ion-label")(15,"h2"),n(16),t(),e(17,"p"),n(18),t()()()()(),e(19,"ion-card")(20,"ion-card-header")(21,"ion-card-subtitle"),n(22,"Order Items"),t()(),e(23,"ion-card-content")(24,"ion-list"),_(25,Z,10,6,"ion-item",9),t()()(),e(26,"ion-card")(27,"ion-card-header")(28,"ion-card-subtitle"),n(29,"Order Summary"),t()(),e(30,"ion-card-content")(31,"div",10)(32,"span"),n(33,"Order Date"),t(),e(34,"span"),n(35),s(36,"date"),t()(),_(37,ee,6,4,"div",11),e(38,"div",10)(39,"span"),n(40,"Total Amount"),t(),e(41,"span"),n(42),s(43,"number"),t()(),e(44,"div",10)(45,"span"),n(46,"Discount"),t(),e(47,"span"),n(48),s(49,"number"),t()(),e(50,"div",10)(51,"span"),n(52,"Tax Amount"),t(),e(53,"span"),n(54),s(55,"number"),t()(),e(56,"div",12)(57,"span"),n(58,"Final Amount"),t(),e(59,"span"),n(60),s(61,"number"),t()()()()()),o&2){let i=f();r(6),D(i.getStatusLabel(i.orderDetails.order_status).toLowerCase()),r(),c(" ",i.getStatusLabel(i.orderDetails.order_status)," "),r(9),g(i.orderDetails.shop_name),r(2),c("Retailer ID: ",i.orderDetails.retailer_id,""),r(7),u("ngForOf",i.orderDetails.products),r(10),g(m(36,12,i.orderDetails.date_of_order,"medium")),r(2),u("ngIf",i.orderDetails.actual_delivery_date),r(5),c("\u20B9",m(43,15,i.orderDetails.total_order_amount,"1.2-2"),""),r(6),c("\u20B9",m(49,18,i.orderDetails.discount_amount,"1.2-2"),""),r(6),c("\u20B9",m(55,21,i.orderDetails.tax_amount,"1.2-2"),""),r(6),c("\u20B9",m(61,24,i.orderDetails.final_amount,"1.2-2"),"")}}function ne(o,a){if(o&1){let i=E();e(0,"ion-card")(1,"ion-card-content")(2,"div",13),n(3," Failed to load order details. Please try again. "),t(),e(4,"ion-button",14),P("click",function(){O(i);let l=f();return S(l.loadOrderDetails())}),n(5," Retry "),t()()()}}var pe=(()=>{let a=class a{constructor(d,l){this.route=d,this.wholesalerService=l,this.loading=!0,this.error=!1}ngOnInit(){this.orderId=Number(this.route.snapshot.paramMap.get("id")),this.loadOrderDetails()}getStatusLabel(d){return{1:"Processing",2:"Confirmed",3:"Payment Pending",4:"Rejected",5:"Successful",6:"Cancelled",7:"Returned",8:"Processing",9:"Return Requested",10:"Rejected"}[d]||"Unknown"}loadOrderDetails(){this.loading=!0,this.error=!1,this.wholesalerService.getOrderFullDetails(this.orderId).pipe(h(d=>(console.error("Error loading order details:",d),this.error=!0,I(null))),C(()=>{this.loading=!1})).subscribe(d=>{d&&(this.orderDetails=d)})}};a.\u0275fac=function(l){return new(l||a)(x(R),x(X))},a.\u0275cmp=y({type:a,selectors:[["app-order-details"]],decls:10,vars:4,consts:[["slot","start"],["color","dark","defaultHref","/wholesaler/orders"],["type","indeterminate",4,"ngIf"],["class","order-details-container",4,"ngIf"],[4,"ngIf"],["type","indeterminate"],[1,"order-details-container"],[1,"status-chip"],["lines","none"],[4,"ngFor","ngForOf"],[1,"summary-item"],["class","summary-item",4,"ngIf"],[1,"summary-item","final-amount"],[1,"error-message"],["expand","block",3,"click"]],template:function(l,p){l&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),v(3,"ion-back-button",1),t(),e(4,"ion-title"),n(5),t()()(),e(6,"ion-content"),_(7,Y,1,0,"ion-progress-bar",2)(8,te,62,27,"div",3)(9,ne,6,0,"ion-card",4),t()),l&2&&(r(5),c("Order #",p.orderId,""),r(2),u("ngIf",p.loading),r(),u("ngIf",!p.loading&&!p.error&&p.orderDetails),r(),u("ngIf",p.error))},dependencies:[K,F,j,L,A,z,q,H,N,V,Q,U,W,$,G,J,T,M,k,w,B],styles:[".order-details-container[_ngcontent-%COMP%]{padding:16px}.order-details-container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:12px 0;border-radius:12px}.status-chip[_ngcontent-%COMP%]{display:inline-block;padding:4px 12px;border-radius:16px;font-weight:500;text-transform:capitalize}.status-chip.processing[_ngcontent-%COMP%]{background:#b3e5fc;color:var(--ion-color-primary)}.status-chip.confirmed[_ngcontent-%COMP%]{background:#c8e6c9;color:#388e3c}.status-chip.payment-pending[_ngcontent-%COMP%]{background:#fff9c4;color:#f57c00}.status-chip.rejected[_ngcontent-%COMP%]{background:#ffcdd2;color:var(--ion-color-danger)}.status-chip.successful[_ngcontent-%COMP%]{background:#c8e6c9;color:#388e3c}.status-chip.cancelled[_ngcontent-%COMP%]{background:#ffcdd2;color:var(--ion-color-danger)}.status-chip.returned[_ngcontent-%COMP%], .status-chip.return-requested[_ngcontent-%COMP%]{background:#e1bee7;color:#7b1fa2}.payment-status[_ngcontent-%COMP%]{margin-top:8px;font-size:.9em}.payment-status.pending[_ngcontent-%COMP%]{color:#f57c00}.payment-status.completed[_ngcontent-%COMP%]{color:#388e3c}.summary-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:8px 0;padding:8px 0;border-bottom:1px solid var(--ion-color-light)}.summary-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{color:var(--ion-color-medium)}.summary-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.summary-item.final-amount[_ngcontent-%COMP%]{font-weight:700;color:var(--ion-color-primary);font-size:1.1em;margin-top:16px;border-top:2px solid var(--ion-color-light)}.error-message[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px;color:var(--ion-color-danger)}@media (min-width: 768px){.order-details-container[_ngcontent-%COMP%]{max-width:768px;margin:0 auto}}"]});let o=a;return o})();export{pe as OrderDetailsComponent};
